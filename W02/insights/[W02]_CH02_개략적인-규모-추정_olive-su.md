### 최대 QPS?

> _책에서는 최대 QPS 를 2배로 계산함_

<br>

- 설계의 용량 요구 사항을 결정 시 이용
- Peek QPS: 시스템이 쿼리를 처리할 것으로 예상되는 최고 속도를 의미
- 사용량이 많거나 트래픽이 급증하는 시간에 자주 발생
- 평균 속도보다 훨씬 높을 수 있음

<br>

### 최대 QPS를 결정하는 일반적인 방법

1. 기록된 데이터 이용
   1. 특정 기간 동안 인프라가 처리하는 쿼리 수 추적 ⇢ 가장 높은 값 선택
   2. 데이터 가용성 / 시스템의 과거 성능에 의존
2. 이용 추정치
   1. Event-driven Peeks
   2. Time-driven Peeks

<br>

초기에 과잉 프로비저닝 설정 후 데이터 모니터링 ⇢ 실제 사용 패턴에 따라 조정 필요

<br>

### 왜 책에서는 2배를 QPS 배수로 잡았는 가?

- DAU의 2배 트래픽이 최악의 경우에 산정될 수 있는 QPS이기에 대략적으로 설정한 것으로 보인다.
- 타 레퍼런스에서는 특정 조회 이벤트의 80%가 8시간내에 발생한다거나 하는 특정한 시나리오를 설정한다.

<br>

<br>

---

### Reference

- [내가 만든 서비스는 얼마나 많은 사용자가 이용할 수 있을까? - 1편(성능 테스트란?)](https://hyuntaeknote.tistory.com/10)
- [Capacity Planning](https://blog.bytebytego.com/i/131811454/peak-qps)
