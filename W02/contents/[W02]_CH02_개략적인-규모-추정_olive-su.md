> 시스템 설계 면접을 볼 때, `시스템 용량` 이나 `성능 요구사항` 을 개략적으로 추정해보라는 요구를 받게 됨
> 목적 : 사고 실험 ⇢ 추정치 계산 ⇢ 어떤 설계가 요구사항에 부합할 것인지 보기 위함

<br>

- 규모 확장성을 표현하기 위한 기본기
  - 2의 제곱수
  - 응답지연값 (레이턴시)
  - 가용성에 관련된 수치

<br>

### 2의 제곱수

- 데이터 볼륨 단위
  ![[./images/01_olive-su.jpeg]]

<br>

### 응답지연 값

- 컴퓨터 연산의 처리 속도 짐작 가능
  ![[./images/02_olive-su.jpeg]]

- 메모리는 빠르지만, 디스크는 느리다.
- 디스크 탐색을 피하라.
- 압축 알고리즘은 빠르다.
- 데이터는 전송 전에 가능한 **압축**하라.
- 데이터 센터는 여러 지역에 분산되어 있으면 데이터 송수신에는 시간이 걸린다.

<br>

### 가용성에 관련된 수치

❓ 고가용성: 시스템이 오랜 시간 동안 지속적으로 중단 없이 운영될 수 있는 능력

- 대부분의 서비스는 99% - 100%의 고가용성을 가짐

<br>

❓ SLA: 서비스 사업자 ↔︎ 고객 사이에 맺어진 합의

- 서비스 사업자가 제공하는 서비스의 가용시간 기술
- 관습적으로 숫자 '9'로 표시

![[./images/03_olive-su.jpeg]]

<br>

### e.g. 트위터 QPS와 저장소 요구량 추정

#### 가정

- 월간 능동 사용자(MAU): 3억명
- 사용률: 50%
- 사용량: 매일 2건
- 미디어 리소스: 미디어 포함 트윗 10%
- 데이터 보관 기간: 5년

<br>

#### 추정

- QPS(Query per Second)

$$
일간 능동 사용자(DAU) = 3 * 10^8 * 50% = 1.5억
$$

$$
QPS = 1.5 * 10^8 * 2 트윗/24시간/3600초
$$

$$
최대 QPS(Peek QPS) = 2 * QPS ≒ 7,000
$$

<br>

### Tip

💡 근사치를 계산에 활용한다. (정확함 평가 X)
💡 `가정` 은 적어둔다.
💡 `단위` 를 붙인다.

<br>

⭐ 많이 출제되는 개략적 규모 추정 문제

- QPS
- 최대 QPS
- 저장소 요구량
- 캐시 요구량
- 서버 수
